<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>HLG-MOS Project on SOSS - Major Topics in OS and recommendations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href=".//assets/img/oss_charter_logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="assets/js/misc.js"></script>


<link rel="stylesheet" href="./assets/styling/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./assets/img/oss_charter_logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">HLG-MOS Project on SOSS</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./principles.html" rel="" target="">
 <span class="menu-text">The Principles</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./case_studies.html" rel="" target="">
 <span class="menu-text">Case Studies</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./major_topics.html" rel="" target="" aria-current="page">
 <span class="menu-text">Major Topics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./background.html" rel="" target="">
 <span class="menu-text">Background</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-file-pdf"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://unece.org/sites/default/files/2025-02/Statistical%20Open%20Source%20Software%20-%20Charter%20and%20Report.pdf">
            Project Report
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://unece.org/sites/default/files/2025-06/Decisions%20-%20day%203.pdf">
            CES Endorsement
            </a>
          </li>
      </ul>
    </div>
    <a href="https://www.linkedin.com/showcase/unece-modernisation-of-official-statistics/" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/UNECE/OSS">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/unece/oss/issues">
            Submit an Issue/Request
            </a>
          </li>
      </ul>
    </div>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#1.-licences-considerations" id="toc-1.-licences-considerations" class="nav-link active" data-scroll-target="#1.-licences-considerations"><strong>1. Licences considerations</strong></a></li>
  <li><a href="#2.-standards" id="toc-2.-standards" class="nav-link" data-scroll-target="#2.-standards"><strong>2. Standards</strong></a>
  <ul class="collapse">
  <li><a href="#programming-languages" id="toc-programming-languages" class="nav-link" data-scroll-target="#programming-languages"><strong>Programming languages</strong>:</a></li>
  <li><a href="#data-formats" id="toc-data-formats" class="nav-link" data-scroll-target="#data-formats"><strong>Data formats</strong></a></li>
  <li><a href="#exchange-protocols" id="toc-exchange-protocols" class="nav-link" data-scroll-target="#exchange-protocols"><strong>Exchange protocols</strong></a></li>
  <li><a href="#modernstats-standards" id="toc-modernstats-standards" class="nav-link" data-scroll-target="#modernstats-standards"><strong>ModernStats standards</strong></a></li>
  </ul></li>
  <li><a href="#3.-culture" id="toc-3.-culture" class="nav-link" data-scroll-target="#3.-culture"><strong>3. Culture</strong></a></li>
  <li><a href="#4.-knowledge-building" id="toc-4.-knowledge-building" class="nav-link" data-scroll-target="#4.-knowledge-building"><strong>4. Knowledge building</strong></a></li>
  <li><a href="#5.-governance" id="toc-5.-governance" class="nav-link" data-scroll-target="#5.-governance"><strong>5. Governance</strong></a>
  <ul class="collapse">
  <li><a href="#the-two-governance-models" id="toc-the-two-governance-models" class="nav-link" data-scroll-target="#the-two-governance-models">The two governance models</a></li>
  <li><a href="#recommendations-on-governance-of-open-source-software" id="toc-recommendations-on-governance-of-open-source-software" class="nav-link" data-scroll-target="#recommendations-on-governance-of-open-source-software">Recommendations on governance of open source software</a></li>
  </ul></li>
  <li><a href="#6.-security" id="toc-6.-security" class="nav-link" data-scroll-target="#6.-security"><strong>6. Security</strong></a>
  <ul class="collapse">
  <li><a href="#secure-adoption-of-open-source-software-recommendations" id="toc-secure-adoption-of-open-source-software-recommendations" class="nav-link" data-scroll-target="#secure-adoption-of-open-source-software-recommendations">Secure Adoption of Open Source Software Recommendations</a></li>
  <li><a href="#secure-development-of-open-source-software-recommendations" id="toc-secure-development-of-open-source-software-recommendations" class="nav-link" data-scroll-target="#secure-development-of-open-source-software-recommendations">Secure Development of Open Source Software Recommendations</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Major Topics in OS and recommendations</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this chapter, we dive into the core aspects of the open source ecosystem, which is not only about software but also involves a rich tapestry of legal, operational, and cultural dimensions. We explore six main topics:</p>
<ul>
<li><strong>License considerations</strong> provide the backbone of open source, defining how software can be used, modified, and shared.<br>
</li>
<li><strong>Standards</strong> that ensure software integration and innovation, but also critical for data consistency, accuracy, and interoperability in statistical processes.<br>
</li>
<li><strong>Culture</strong> that explores the misconceptions and concerns about OSS.<br>
</li>
<li><strong>Knowledge building</strong> being the communal learning and sharing process that lies at the heart of open source projects.<br>
</li>
<li><strong>Governance</strong> that provides the structures and practices overseeing decision-making.<br>
</li>
<li><strong>Security</strong> addressing the strategies and challenges in protecting open source software against potential vulnerabilities.</li>
</ul>
<section id="1.-licences-considerations" class="level2">
<h2 class="anchored" data-anchor-id="1.-licences-considerations"><strong>1. Licences considerations</strong></h2>
<p>The Open Source Initiative (<a href="https://opensource.org/licenses">https://opensource.org/licences</a>) provides detailed information about all the officially approved open source licences. However, choosing an open source licence among these can still be tricky because it involves balancing multiple competing interests and considerations such as:</p>
<ol type="1">
<li><strong>Long-term implications</strong>: Your choice is often permanent and affects how your project can be used, modified, and distributed.<br>
</li>
<li><strong>Legal complexity</strong>: Different licences have subtle but important differences in terms of rights, obligations, and protections they provide.<br>
</li>
<li><strong>Trade-offs</strong>: You need to balance:
<ul>
<li>Project adoption vs.&nbsp;control.<br>
</li>
<li>Commercial potential vs.&nbsp;open source principles.<br>
</li>
<li>Protection of your rights vs.&nbsp;user freedom.<br>
</li>
</ul></li>
<li><strong>Ecosystem considerations</strong>: Your choice needs to be compatible with:
<ul>
<li>Dependencies you’re using (components and software used).<br>
</li>
<li>Platforms you are targeting (Operating Systems, Clouds, CRAN, GitHub, …).<br>
</li>
<li>Community expectations.<br>
</li>
<li>Local/regional considerations (like EUPL for European countries).</li>
</ul></li>
</ol>
<p>One important grouping is between “viral” and “permissive” licences. Viral/copyleft licences like GPL and EUPL require any derivative work to also be open source under the same licence, thus the licence requirements cascade throughout the entire project and its derivatives. Permissive licence like MIT and Apache on the other hand allow the code to be used in any way, including in closed-source projects, thus each user can choose their own licence. This implies different business impacts; viral licences can make commercial adoption more challenging and ensure ongoing openness while permissive licences are more business-friendly and allow others to create closed-source versions if desired.</p>
<p>The choice of open source license varies within the official statistical community, as highlighted by the license usage analysis&nbsp;<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> of tools in the Awesome List (see <a href="case_studies.html#Awesome-List">Case Studies: Awesome List</a>). The most popular are GPL (approx. 50%), MIT (approx. 20%) and EUPL (approx. 15%). The choice of individual organisation is influenced by multiple factors.</p>
<p>For example, Istat mainly use the EUPL 1.1 licence (for some R tools developed by Istat are available under GPL license) for the following reasons:</p>
<ol type="1">
<li>The EUPL licence is the only licence translated in Italian.<br>
</li>
<li>EUPL is the only licence “approved” and sponsored by European regulations and therefore legally valid in Italy.</li>
</ol>
<p>SIS-CC releases .STAT suite (see <a href="case_studies.html#SIS-CC">Case Studies: SIS-CC</a>) under the MIT licence. They chose a permissive licence for following reasons:</p>
<ol type="1">
<li><strong>International collaboration</strong>: The MIT licence facilitates easy sharing and collaboration between statistical offices and organisations across different countries.<br>
</li>
<li><strong>Public sector alignment</strong>: Many statistical organisations are public sector entities, and the MIT licence aligns well with government open source policies.<br>
</li>
<li><strong>Integration flexibility</strong>: Statistical systems often need to integrate with various existing tools and systems - the MIT licence makes this legally straightforward.<br>
</li>
<li><strong>Community building</strong>: The permissive nature of the MIT licence encourages participation from a wide range of contributors.</li>
</ol>
<p>SORS at the current time is defining its open source policy (see <a href="case_studies.html#SORS">Case Studies: SORS</a>); they will use a permissive licence like Apache. As SORS wants to manage a community of NSOs working on its software tools, the reasons for choosing a permissive licence are similar to those of SIS-CC.</p>
</section>
<section id="2.-standards" class="level2">
<h2 class="anchored" data-anchor-id="2.-standards"><strong>2. Standards</strong></h2>
<p>Open source software (OSS) has strong connections with the adoption of open standards in different fields. The presence of established standards facilitates the adoption of OSS, while the use of OSS, in turn, promotes the broader adoption and development of those standards. Here some of standards that play important roles:</p>
<section id="programming-languages" class="level3">
<h3 class="anchored" data-anchor-id="programming-languages"><strong>Programming languages</strong>:</h3>
<ul>
<li><strong>Open source programming languages, in particular R,</strong> have been instrumental in the adoption of open source policies within national statistical offices (NSOs) by providing a trusted, versatile platform specifically tailored for statistical analysis and data processing. The ecosystem of R packages&nbsp;<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> supports a wide range of statistical and data science tasks, making it possible for NSOs to replace or complement proprietary software with reliable, community-validated tools. Additionally, the R community’s emphasis on reproducible research fosters a standardised approach to analysis and reporting, which enhances collaboration and long-term sustainability in NSOs’ statistical workflows.<br>
</li>
<li><strong>Consistency and Compatibility</strong>: Standardising on widely-used programming languages such as R and Python&nbsp;<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> ensures compatibility across various statistical and data science tools. These languages have extensive libraries and frameworks that simplify the integration of different tools and applications, making it easier for organisations to share and collaborate on code.<br>
</li>
<li><strong>Community and Ecosystem Support</strong>: Popular open source languages have large, active communities that continually expand and improve their ecosystems. This community support ensures regular updates, a wealth of resources, and broad compatibility, which is particularly valuable for organisations relying on open source tools.<br>
</li>
<li><strong>Training and Knowledge Sharing</strong>: Adopting standardised programming languages streamlines training for new staff and facilitates knowledge sharing within and between organisations. Staff trained using Python or R can more easily adapt to similar environments, promoting a more unified skill set across NSOs, academia and other public agencies.</li>
</ul>
</section>
<section id="data-formats" class="level3">
<h3 class="anchored" data-anchor-id="data-formats"><strong>Data formats</strong></h3>
<ul>
<li><strong>Interoperability Across Systems</strong>: Standard data formats like CSV&nbsp;<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>, JSON&nbsp;<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, and XML&nbsp;<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> enable data to be shared and processed by multiple systems without extensive reformatting. Using open, well-documented data formats ensures that datasets remain accessible and usable across different platforms and applications, fostering smooth data exchange.<br>
</li>
<li><strong>Long-Term Accessibility and Data Preservation</strong>: Open data formats reduce the risk of data obsolescence and vendor lock-in. CSV and JSON, for instance, can be easily accessed and parsed by any software, which is crucial for long-term data usability. Open formats also ensure that future tools can read and interpret historical datasets without conversion issues.<br>
</li>
<li><strong>Data Quality and Validation</strong>: Standardised data formats often come with tools or built-in capabilities for data validation, helping organisations maintain high data quality and consistency. For example, JSON and XML formats allow schema definitions that can be used to enforce data structure and integrity.</li>
</ul>
</section>
<section id="exchange-protocols" class="level3">
<h3 class="anchored" data-anchor-id="exchange-protocols"><strong>Exchange protocols</strong></h3>
<ul>
<li><strong>Global Compatibility and Integration</strong>: Exchange protocols such as SDMX are specifically designed for statistical data, ensuring interoperability across statistical organisations globally. By adhering to these protocols, statistical offices can integrate their data with international platforms and share information that are compatible with other countries and organisations, facilitating global data collaboration and analysis. In the SDMX website there is a rich list of software tools&nbsp;<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> to support SDMX&nbsp;<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> implementers and developers. Also authentication and authorisation standard protocols like Oauth&nbsp;<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> can support the integration of systems.<br>
</li>
<li><strong>Efficient Data Sharing and Real-Time Access</strong>: Standard data exchange protocols, such as SDMX, RESTful APIs&nbsp;<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>, and OData (Open Data Protocol&nbsp;<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a>), allow data to be accessed, shared, and updated in real time. These protocols make it easy for systems to communicate and exchange data quickly, which is essential for large-scale data dissemination and integration across different statistical platforms.</li>
</ul>
</section>
<section id="modernstats-standards" class="level3">
<h3 class="anchored" data-anchor-id="modernstats-standards"><strong>ModernStats standards</strong></h3>
<ul>
<li>By adhering to UNECE ModernStats standards (e.g., GSBPM, GSIM), NSOs can build modular, compatible open source solutions that support efficient, standardised workflows and foster collaboration within the global statistical community.<br>
</li>
<li>Open source tools designed to align with GSBPM can fit seamlessly into existing workflows, as they adhere to recognised standards for data processing, validation, and analysis. The use of a common process model facilitates the adoption of compatible levels of granularity between different statistical packages.<br>
</li>
<li>The use of GSIM as common reference for metadata platforms increases the compatibility and the possibility of integration between software packages used in the different phases of the statistical process.</li>
</ul>
</section>
</section>
<section id="3.-culture" class="level2">
<h2 class="anchored" data-anchor-id="3.-culture"><strong>3. Culture</strong></h2>
<p>Transition to open source software requires cultural shifts in organisations, particularly if closed source/proprietary offerings have been the norm for a long period of time. In addition, the adoption of open-source principles demands a certain ethos and culture of work to be present within the organisation.</p>
<p>Several common misconceptions about OSS contribute to hesitancy and resistance within organisations:</p>
<ul>
<li>OSS is of a lower quality as it is free (with the rationale that things that are paid for must be of higher quality or value).<br>
</li>
<li>OSS is not seen to have the same level of support as that provided by vendors of proprietary software, who are responsible for ensuring their products quality and providing support if problems arise.<br>
</li>
<li>OSS is changeable by anyone so there is no reliability or consistency in the tools.<br>
</li>
<li>OSS is vulnerable to security threats, whereas proprietary software is safer given the commercial concerns of vendors (even though many organisations already use tools and software that are already built on OSS such as cloud computing solutions, security software).</li>
</ul>
<p>These misconceptions, combined with existing organisational practices, contribute to cultural barriers and concerns that arise during the transition to OSS, such as:</p>
<ul>
<li>Risk aversion: If there are existing tools and software, changes are perceived as risky, especially by long standing staff and operational management, where the production of outputs may be considered to be at risk.<br>
</li>
<li>Resource concerns: NSOs may face challenges in allocating budgets for implementation, integration, and ongoing maintenance, underestimating the advantages that can come from shared development with other developers. A change in general requires resourcing, and an active decision to pursue. It is easier to allow passive indecision to propagate the status quo.<br>
</li>
<li>Inexperience with the wider OSS community, and the large-scale adoption of OSS across technical spheres.<br>
</li>
<li>Trepidation about the capability required to maintain an internal code base, or tooling of versions adopted from OSS, or maintain a tool itself.<br>
</li>
<li>Preference for stability and control: The dependency on proprietary tools may create a sense of comfort. The focus of open source tools is often on evolving features and flexibility, which can seem less stable or controlled to NSOs.</li>
</ul>
<p>Addressing these concerns is critical for NSOs to build a sustainable OSS culture across organisations. In the subsequent chapters, we discuss some of key challenges and strategies to address them through: knowledge building (<a href="#4.-knowledge-building">Section 4</a>), establishing governance (<a href="#5.-governance">Section 5</a>) and adopting security practices (<a href="#6.-security">Section 6</a>).</p>
</section>
<section id="4.-knowledge-building" class="level2">
<h2 class="anchored" data-anchor-id="4.-knowledge-building"><strong>4. Knowledge building</strong></h2>
<p>Below are general recommendations for national statistical offices (NSOs) about knowledge sharing, based on the use cases provided and focusing on capacity building, documentation, and training:</p>
<p><strong>Capacity building through participating in collaborative networks:</strong></p>
<ul>
<li>Encourage open source familiarity: Promote the adoption of widely-used open source tools like R and Python by integrating them into the organisation’s workflows. Use structured training programs to make the staff familiar with these tools and their applications in statistical work.<br>
</li>
<li>Establish centers of excellence: Create dedicated teams or units within the NSO to specialise in open source tools and methodologies. These teams can act as internal consultants, providing technical support and sharing expertise across departments.<br>
</li>
<li>Leverage community collaboration: Actively participate in international and regional communities such as SIS-CC or open source forums to build institutional knowledge by learning from other NSOs’ experiences. Collaborative knowledge sharing accelerates capacity building and reduces redundant efforts.<br>
</li>
<li>Leverage partnerships with academic institutions and international organisations to enhance knowledge transfer, ensuring access to the latest methodologies and technologies.</li>
</ul>
<p>Example: SIS-CC facilitates capacity building by aligning members around shared tools and standards like SDMX, promoting collective development and mutual learning.</p>
<p><strong>Comprehensive and accessible documentation:</strong></p>
<ul>
<li>Develop and maintain comprehensive and consistent documentation for all statistical processes, methodologies, and software implementations. Use frameworks like GSIM to ensure structured documentation, enhancing clarity and usability for internal and external stakeholders.<br>
</li>
<li>Where possible, share documentation publicly to foster transparency and collaboration. This includes sharing metadata standards, data schemas, and technical manuals for open source tools used or developed by the NSO.<br>
</li>
<li>Regularly update technical manuals and process documentation to ensure continuity, especially when staff turnover occurs. NSOs should prioritise institutionalising knowledge over reliance on individual expertise.<br>
</li>
<li>Use open metadata standards such as DDI and SDMX to document statistical processes and data workflows comprehensively, enabling consistent understanding and reuse across organisations.</li>
</ul>
<p>Example: IST metadata-driven system by SORS supports standardised documentation, enhancing internal and regional knowledge sharing for effective statistical production.</p>
<p><strong>Ongoing training and skill development:</strong></p>
<ul>
<li>Offer regular training programs to build staff capacity in open source tools and modern statistical methodologies, ensuring teams remain adept at using and maintaining evolving technologies and methodologies.<br>
</li>
<li>Design training to address varied skill levels, from foundational workshops for beginners to advanced sessions for specialists that emphasises practical applications in statistical workflows. Modular training ensures staff across departments can develop relevant skills at their own pace.<br>
</li>
<li>For NSOs transitioning from proprietary to open source systems, implement mandatory training to ensure staff can effectively use and adapt to new tools. Istat’s systematic training for R users is an effective example.<br>
</li>
<li>Collaborate with international organisations, universities, or private sector experts to access specialised training and knowledge-sharing opportunities.</li>
</ul>
<p><strong>Promote a culture of peer-to-peer knowledge exchange:</strong></p>
<ul>
<li>Encourage knowledge sharing between employees through internal forums, mentorship programs, or cross-departmental collaborations as well as organising workshops, hackathons, or collaborative projects where staff can work together on open source solutions, sharing insights and expertise. Such initiatives help disseminate expertise and bridge skill gaps across the organisation.<br>
</li>
<li>Create opportunities for staff to present their innovations and solutions internally and externally, fostering an environment where shared contributions are valued and rewarded.</li>
</ul>
<p>Example: The Data Clean ecosystem in Statistics Netherlands thrives on community contributions, enabling the exchange of modular, reusable tools that expand collective expertise.</p>
<p><strong>Develop centralised knowledge repositories:</strong></p>
<ul>
<li>Implement centralised knowledge repositories to store and share documentation, training materials, FAQs, case studies and user feedback, making these resources readily accessible to all staff and external collaborators. This ensures institutional knowledge is preserved.<br>
</li>
<li>Use platforms like wikis, shared drives, or open source platforms to manage and distribute this information, ensuring continuity even when staff turnover occurs.</li>
</ul>
<p>Example: The Awesome List of Official Statistics Software acts as a shared resource for NSOs, providing a curated repository of open source tools and their applications.</p>
<p><strong>Support open knowledge sharing practices externally:</strong></p>
<ul>
<li>Actively contribute to open source communities by sharing code, documentation, and lessons learned as well as by participating in relevant international, regional and national expert meetings (e.g., <em>The Use of R in Official Statistics</em> conferences&nbsp;<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a>). This practice not only helps the broader community but also positions the NSO as a leader in statistical innovation.</li>
</ul>
<p>Example: The SIS-CC’s <a href="https://academy.siscc.org">.Stat Academy</a> engages in sharing knowledge through online training, focusing on data modelling and SDMX. The availability of free training resources to support the statistical lifecycle acts as a powerful stimulus for the diffusion of open standards and software tools in the official statistics community.</p>
</section>
<section id="5.-governance" class="level2">
<h2 class="anchored" data-anchor-id="5.-governance"><strong>5. Governance</strong></h2>
<section id="the-two-governance-models" class="level3">
<h3 class="anchored" data-anchor-id="the-two-governance-models">The two governance models</h3>
<p>In the case-studies chapter we saw different governance models used by the projects: we could analyse them following the <em>Cathedral</em> and <em>Bazaar</em> models, defined by Eric S. Raymond in his influential essay, <a href="http://www.catb.org/esr/writings/cathedral-bazaar/">The Cathedral and the Bazaar</a>.</p>
<p>The <strong>Cathedral</strong> model is a structured, centralised approach where a core team of developers maintains the control over the project, releasing updates after extensive internal testing to ensure stability and polish. The process is more closed, with limited involvement from the broader community until a version is ready for public release. This model emphasises planning, longer development cycles, and <strong>top-down</strong> decision-making.</p>
<p>In contrast, the <strong>Bazaar</strong> model is a decentralised, open approach that thrives on community participation and rapid iteration. Code is developed transparently, with contributors working simultaneously, often releasing small updates frequently. Decisions are made collaboratively, encouraging contributions from anyone, which allows the project to evolve quickly. This model embraces an agile, <strong>bottom-up</strong> development style that prioritises community feedback and adaptability over centralised control.</p>
<p>Coming to our use-cases, from one side we have the SIS-CC community (see <a href="case_studies.html#SIS-CC">Case Studies: SIS-CC</a>), <a href="https://siscc.org/who-we-are/governance/">organised</a> with Strategic Level Group, Management Level Group and Architecture Task Force, where the NSOs can choose among three different levels of participation and the development is supported by a defined vision and by a set of training courses available on the web.</p>
<p>At the other extreme we have communities like the Awesome List or the Data Cleaning communities (see <a href="case_studies.html#Data-Cleaning">Case Studies: Data Cleaning</a> and <a href="case_studies.html#Awesome-List">Case Studies: The Awesome List</a>), where users propose their own packages, there are no predefined strategies or developments, each user is free to test the products and possibly participate in their development. The community is held together only by the interest in software that can be used in the processes of official statistics organisations.</p>
<p>Also at the level of the NSOs, we can see two different governance models: the Serbian one (<a href="case_studies.html#SORS">Case Studies: SORS</a>) is more “structured”, the software released is controlled by the “official” structure and the developments are managed by the IT department in collaboration with the users. In Istat (<a href="case_studies.html#Istat">Case Studies: Istat</a>), the packages released are managed by a group of methodologists that publish their packages on public platforms and follow their development with a sort of volunteering.</p>
</section>
<section id="recommendations-on-governance-of-open-source-software" class="level3">
<h3 class="anchored" data-anchor-id="recommendations-on-governance-of-open-source-software">Recommendations on governance of open source software</h3>
<p>Below we list some recommendations on governance that are valid for all models:</p>
<p><strong>Define clear objectives for governance:</strong></p>
<ul>
<li>Establish a governance framework tailored to the NSO’s specific needs and objectives, ensuring alignment with statistical priorities such as data quality, security, and compliance.<br>
</li>
<li>Define which aspects of software development require centralised control (Cathedral) and which can benefit from community-driven contributions (Bazaar).</li>
</ul>
<p><strong>Encourage stakeholder engagement:</strong></p>
<ul>
<li>Develop mechanisms to engage statisticians, IT experts, and external contributors in governance discussions.<br>
</li>
<li>Use forums, workshops, and collaborative platforms to gather input on governance policies and software priorities.<br>
</li>
<li>Establish a supportive environment for external contributors by providing clear guidelines, documentation, and mentorship opportunities.</li>
</ul>
<p><strong>Apply governance models differently as needed:</strong></p>
<ul>
<li>Apply the Cathedral model to critical components such as data security, metadata management, and compliance tools while using the Bazaar model for auxiliary tools and add-ons.<br>
</li>
<li>Distributed autonomy: delegate governance of less critical projects or extensions to trusted community members while retaining oversight over core functions.</li>
</ul>
<p><strong>Establish quality assurance processes:</strong></p>
<ul>
<li>Introduce robust quality assurance mechanisms to ensure all software contributions meet high standards for statistical accuracy, usability, documentation, and security.<br>
</li>
<li>Require peer reviews for contributions to Bazaar-style projects and maintain a centralised team for final validation.</li>
</ul>
<p><strong>Risk management:</strong></p>
<ul>
<li>Develop a comprehensive risk management strategy to address potential issues such as untested contributions, security vulnerabilities, and dependency risks.<br>
</li>
<li>Regularly audit community-driven code for vulnerabilities and integrate automated testing tools into the development pipeline.</li>
</ul>
<p><strong>Knowledge building and sharing:</strong></p>
<ul>
<li>Provide training for all NSO staff on OSS governance, development practices, and community engagement.<br>
</li>
<li>Facilitate the exchange of experiences, challenges, and solutions among NSOs to improve OSS governance.<br>
</li>
<li>Create shared resources, such as guidelines for adopting and managing OSS, tailored to the needs of statistical organisations.</li>
</ul>
<p><strong>Transparency in governance:</strong></p>
<ul>
<li>Publish on the web governance policies, decision-making processes, and project roadmaps to ensure transparency and trust.<br>
</li>
<li>Clearly communicate the criteria for adopting, rejecting, or modifying community contributions.</li>
</ul>
<p><strong>Leverage international standards and guidelines:</strong></p>
<ul>
<li>Ensure that OSS governance aligns with international statistical standards, such as GSBPM, GSIM, and SDMX, to maintain consistency and interoperability.<br>
</li>
<li>Collaborate with international organisations to standardise governance approaches and share collective expertise.</li>
</ul>
</section>
</section>
<section id="6.-security" class="level2">
<h2 class="anchored" data-anchor-id="6.-security"><strong>6. Security</strong></h2>
<p><em>Security by obfuscation</em> refers to the practice of relying on secrecy or obscurity of system details, such as source code or algorithms, to protect software or systems from threats. This practice provides a false sense of security and does not address underlying vulnerabilities. It can be easily circumvented by skilled attackers who can reverse-engineer the code.</p>
<p>Open source software takes a different approach to security. The source code is publicly available, allowing anyone to inspect, modify, and enhance it. This transparency can lead to more robust security for several reasons:</p>
<ul>
<li>Many eyes principle: The idea that “<em>given enough eyeballs, all bugs are shallow</em>” (called <a href="https://en.wikipedia.org/wiki/Linus%27s_law">Linus’s Law</a>) suggests that the more people who review the code, the more likely vulnerabilities will be discovered and fixed. This collaborative effort can lead to more secure software.<br>
</li>
<li>Community contributions: Open source projects benefit from contributions from a global community of developers. This diverse input can lead to more innovative security solutions and faster identification of vulnerabilities.<br>
</li>
<li>Transparency: Open source software promotes transparency, which builds trust among users. Users can verify the security of the software themselves or rely on community reviews and audits.<br>
</li>
<li>Rapid response: Open source communities can quickly respond to security issues. Once a vulnerability is identified, patches and updates can be developed and distributed rapidly.<br>
</li>
<li>Peer review: Open source projects often undergo rigorous peer review processes. Code changes are scrutinised by multiple developers, reducing the likelihood of introducing new vulnerabilities.</li>
</ul>
<p>Open source is no more a security risk than proprietary software, and due to the code being open to inspection there are grounds for arguing it is in fact more secure. However what it does have in common with proprietary software is a potential vulnerability to supply chain attacks. This is where rather than attacking the software itself, other packages (or services) imported or used are attacked instead. These may be proprietary or open source themselves. Defending against such attacks is too large a topic for discussion in this document, but no further security measures other than those that an organisation should be following regardless are required when using OSS in lieu of proprietary software.</p>
<p>Below are general recommendations for NSOs regarding security issues in adopting and developing open source software, with some references to the use cases presented. While these recommendations are interconnected, we present them separately to provide clarity and focus on specific aspects of security. Further discussion of security related issues can be found in <a href="background.html#2:-swot-analysis-on-os-adoption-in-nsos">Annex 2: SWOT analysis of OS adoption in NSOs</a>.</p>
<section id="secure-adoption-of-open-source-software-recommendations" class="level3">
<h3 class="anchored" data-anchor-id="secure-adoption-of-open-source-software-recommendations">Secure Adoption of Open Source Software Recommendations</h3>
<ul>
<li><strong>Security assessments:</strong>
<ul>
<li>Perform regular security audits of open source software before adoption. Assess for vulnerabilities in dependencies, outdated libraries, and compliance with data protection laws (e.g., GDPR) or standards (e.g., ISO/IEC 27001). Where possible, automate package vulnerability scans in a CI/CD pipeline or internal package repository.<br>
</li>
<li>Tools: In the R-based ecosystem, managing third-party dependencies is critical; ensure packages are well-maintained and secure. Tools like SonarQube for static analysis or Snyk for dependency scanning can help identify vulnerabilities early.<br>
</li>
</ul></li>
<li><strong>Establish secure deployment practices:</strong>
<ul>
<li>Use containerisation tools like Docker to isolate open source applications and ensure consistent and secure environments.<br>
</li>
<li>Provide guidance on best practices for securely configuring and maintaining systems, as highlighted by the Awesome List use case.<br>
</li>
<li>Consider adopting Configuration as Code (CaC) tools such as Ansible or Terraform to automate and enforce secure configurations.<br>
</li>
</ul></li>
<li><strong>Ensure data confidentiality:</strong>
<ul>
<li>Implement anonymisation and pseudonymisation techniques for sensitive data before processing it with open source tools. This is particularly important for platforms handling confidential statistical data.<br>
</li>
<li>Tools: Use tools like ARX for data anonymisation or OpenDP for implementing differential privacy to ensure data confidentiality.<br>
</li>
</ul></li>
<li><strong>Leverage open source trustworthiness:</strong>
<ul>
<li>Use software with permissive and well-documented licences (e.g., Apache 2.0 or MIT), as chosen by SORS and SIS-CC in the related case studies, ensuring no hidden restrictions or licensing issues compromise data security.<br>
</li>
</ul></li>
<li><strong>International cooperation among NSOs:</strong>
<ul>
<li>Enhance open source security by enabling shared expertise in code reviews, vulnerability identification, and the implementation of best practices. The collective effort ensures thorough scrutiny of software, reduces security risks, and promotes alignment with international standards.<br>
</li>
<li>By pooling resources and collaborating, NSOs build more robust and resilient open source solutions that benefit the global statistical community.<br>
</li>
<li>Tools: Collaboration platforms like Common Vulnerabilities and Exposures (CVE) or shared vulnerability databases can be leveraged to track and mitigate security threats across borders.</li>
</ul></li>
</ul>
</section>
<section id="secure-development-of-open-source-software-recommendations" class="level3">
<h3 class="anchored" data-anchor-id="secure-development-of-open-source-software-recommendations">Secure Development of Open Source Software Recommendations</h3>
<ul>
<li><strong>Embed security in the development lifecycle:</strong>
<ul>
<li>Adopt practices, like <a href="https://github.com/resources/articles/devops/devsecops">DevSecOps</a>, to integrate security at every stage of the software development lifecycle. This ensures that vulnerabilities are addressed proactively rather than reactively, as emphasised by SIS-CC’s centralised review and merge process.<br>
</li>
<li>Utilise tools like Jenkins with security plugins, and integrate automated security scanning in CI/CD pipelines.<br>
</li>
</ul></li>
<li><strong>Implement contributor governance:</strong>
<ul>
<li>Use Contributor Licence Agreements (<a href="https://en.wikipedia.org/wiki/Contributor_License_Agreement">CLAs</a>) or similar governance tools to ensure all contributions to open source projects are secure, vetted, and legally compliant. This strategy is effective for ensuring that external contributions to tools like IST remain secure.<br>
</li>
</ul></li>
<li><strong>Limit dependency risks and conduct supply chain security:</strong>
<ul>
<li>While open source software presents numerous security benefits, it is susceptible to supply chain attacks. This involves attackers targeting external dependencies rather than the software itself.<br>
</li>
<li>Minimise reliance on external libraries or ensure dependency management by selecting only well-maintained and frequently updated packages (Istat’s focus on dependency stability for R packages is an example of such preemptive security in development).<br>
</li>
<li>Mitigation strategies includes:
<ul>
<li>Regularly assess dependencies for security patches and updates.<br>
</li>
<li>Regularly scan for vulnerabilities in dependencies using tools like OWASP Dependency-Check or GitHub Dependabot.<br>
</li>
<li>Use trusted repositories and verify cryptographic signatures for all third-party packages.<br>
</li>
<li>Employ strategies such as dependency pinning and careful management of version upgrades.<br>
</li>
</ul></li>
</ul></li>
<li><strong>Monitor threats and leverage community vetting:</strong>
<ul>
<li>Continuously monitor for emerging threats within the open source ecosystem. Leverage tools like Threat Intelligence Platforms (TIPs) or community-driven security alerts to stay informed.<br>
</li>
<li>Encourage open community feedback and peer review to identify and fix security vulnerabilities. The collaborative nature of the Data Clean ecosystem and the Awesome List ensures wider scrutiny and faster resolution of potential security issues.<br>
</li>
</ul></li>
<li><strong>Establish a clear incident response plan for addressing security vulnerabilities in open source software:</strong>
<ul>
<li>This should include guidelines for quickly patching vulnerabilities, communicating risks, and coordinating with affected stakeholders. Consider automated patch management systems to minimise response time.</li>
</ul></li>
</ul>


</section>
</section>


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><a href="https://observablehq.com/@olavtenbosch/visualizing-awesomeofficialstatistics-org">https://observablehq.com/<span class="citation" data-cites="olavtenbosch/visualizing-awesomeofficialstatistics-org">@olavtenbosch/visualizing-awesomeofficialstatistics-org</span></a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>The best example is the software repository CRAN at <a href="https://cran.r-project.org/">https://cran.r-project.org/</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>A good third-party software repository is the Python Project Index (PyPI) at <a href="https://pypi.org/">https://pypi.org/</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>An awesome list: <a href="https://github.com/secretGeek/AwesomeCSV">https://github.com/secretGeek/AwesomeCSV</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>JSON resources can be found at <a href="https://github.com/burningtree/awesome-json?tab=readme-ov-file">https://github.com/burningtree/awesome-json?tab=readme-ov-file</a> , <a href="https://ajv.js.org/">https://ajv.js.org/</a> and <a href="https://www.json.org/json-en.html">https://www.json.org/json-en.html</a><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>An awesome list: <a href="https://github.com/StanimirIglev/awesome-xml">https://github.com/StanimirIglev/awesome-xml</a><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Tools for SDMX implementers and developers <a href="https://sdmx.org/?page_id=4500">https://sdmx.org/?page_id=4500</a><a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>The Bank for International Settlements publishes another website with SDMX resources at <a href="https://www.sdmx.io/">https://www.sdmx.io/</a><a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p><a href="https://oauth.net/2/">https://oauth.net/2/</a><a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>An Awesome list is available at <a href="https://github.com/marmelab/awesome-rest">https://github.com/marmelab/awesome-rest</a><a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>Tools and resources can be found at <a href="https://www.odata.org/">https://www.odata.org/</a><a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p><a href="http://r-project.ro/conferences.html">http://r-project.ro/conferences.html</a><a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This work is licensed under <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div>   
    <div class="nav-footer-center"><a href="https://unece.org/statistics/modernstats"><img src=".\assets/img/modernstats_footer.png" class="img-fluid" alt="ModernStats" width="110"></a></div>
    <div class="nav-footer-right">Built with <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>